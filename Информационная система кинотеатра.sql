-- phpMyAdmin SQL Dump
-- version 5.1.1
-- https://www.phpmyadmin.net/
--
-- Хост: 127.0.0.1:3306
-- Время создания: Мар 09 2023 г., 19:30
-- Версия сервера: 8.0.24
-- Версия PHP: 7.1.33

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- База данных: `кинотеатры`
--

-- --------------------------------------------------------

--
-- Структура таблицы `место`
--

CREATE TABLE `место` (
  `Id` int NOT NULL,
  `Id зала` int NOT NULL,
  `Ряд` int NOT NULL,
  `Номер` int NOT NULL,
  `Ценовая категория` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `место`
--

INSERT INTO `место` (`Id`, `Id зала`, `Ряд`, `Номер`, `Ценовая категория`) VALUES
(1, 1, 1, 1, 'Лучшая'),
(2, 1, 1, 2, 'Лучшая'),
(3, 1, 1, 3, 'Лучшая'),
(4, 1, 1, 4, 'Лучшая'),
(5, 1, 1, 5, 'Лучшая'),
(6, 1, 1, 6, 'Лучшая'),
(7, 1, 2, 1, 'Стандартная'),
(8, 1, 2, 2, 'Стандартная'),
(9, 1, 2, 3, 'Стандартная'),
(10, 1, 2, 4, 'Стандартная'),
(11, 1, 2, 5, 'Стандартная'),
(12, 1, 2, 6, 'Стандартная'),
(13, 1, 3, 1, 'Стандартная'),
(14, 1, 3, 2, 'Стандартная'),
(15, 1, 3, 3, 'Стандартная'),
(16, 1, 3, 4, 'Стандартная'),
(17, 1, 3, 5, 'Стандартная'),
(18, 1, 3, 6, 'Стандартная'),
(19, 1, 4, 1, 'Эксклюзивная'),
(20, 1, 4, 2, 'Эксклюзивная'),
(21, 1, 4, 3, 'Эксклюзивная'),
(22, 1, 4, 4, 'Эксклюзивная'),
(23, 1, 4, 5, 'Эксклюзивная'),
(24, 1, 4, 6, 'Эксклюзивная'),
(25, 2, 1, 1, 'Лучшая'),
(26, 2, 1, 2, 'Лучшая'),
(27, 2, 1, 3, 'Лучшая'),
(28, 2, 1, 4, 'Лучшая'),
(29, 2, 1, 5, 'Лучшая'),
(30, 2, 1, 6, 'Лучшая'),
(31, 2, 2, 1, 'Стандартная'),
(32, 2, 2, 2, 'Стандартная'),
(33, 2, 2, 3, 'Стандартная'),
(34, 2, 2, 4, 'Стандартная'),
(35, 2, 2, 5, 'Стандартная'),
(36, 2, 2, 6, 'Стандартная'),
(37, 2, 3, 1, 'Стандартная'),
(38, 2, 3, 2, 'Стандартная'),
(39, 2, 3, 3, 'Стандартная'),
(40, 2, 3, 4, 'Стандартная'),
(41, 2, 3, 5, 'Стандартная'),
(42, 2, 3, 6, 'Стандартная'),
(43, 2, 4, 1, 'Эксклюзивная'),
(44, 2, 4, 2, 'Эксклюзивная'),
(45, 2, 4, 3, 'Эксклюзивная'),
(46, 2, 4, 4, 'Эксклюзивная'),
(47, 2, 4, 5, 'Эксклюзивная'),
(48, 2, 4, 6, 'Эксклюзивная');

-- --------------------------------------------------------

--
-- Структура таблицы `билет`
--

CREATE TABLE `билет` (
  `Id` int NOT NULL,
  `id сеанса` int NOT NULL,
  `id места` int NOT NULL,
  `ФИО` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `билет`
--

INSERT INTO `билет` (`Id`, `id сеанса`, `id места`, `ФИО`) VALUES
(1, 1, 3, 'Петров Дмитрий Сергеевич'),
(2, 1, 4, 'Петрова Людмила Сергеевна'),
(3, 1, 7, 'Капушкина Любовь Викторовна'),
(4, 1, 9, 'Забегайло Сергей Александрович'),
(5, 2, 10, 'Сергеев Виталий Константинович'),
(6, 2, 14, 'Гончаров Владимир Игоревич'),
(7, 2, 21, 'Косталыпин Константин Александрович'),
(8, 4, 4, 'Иванова Любовь Константиновна'),
(9, 4, 5, 'Коклюшкин Виктор Михайлович'),
(10, 4, 9, 'Заяц Сергей Сергеевич'),
(11, 4, 14, 'Пятипалова Лидия Игоревна'),
(12, 10, 31, 'Сергеев Дмитрий Михайлович'),
(13, 10, 32, 'Львов Павел Алексеевич'),
(14, 10, 33, 'Палий Роман Святославович'),
(15, 10, 34, 'Измайлова Анна Александровна'),
(16, 10, 35, 'Костина Дарья Олеговна'),
(17, 12, 43, 'Искаков Дмитрий Дмитриевич'),
(18, 12, 44, 'Жердева Анастасия Александровна'),
(19, 12, 46, 'Великая Екатерина Николаевна'),
(20, 12, 47, 'Игорев Сергей Игоревич');

-- --------------------------------------------------------

--
-- Структура таблицы `зал`
--

CREATE TABLE `зал` (
  `Id` int NOT NULL,
  `Наименование` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `зал`
--

INSERT INTO `зал` (`Id`, `Наименование`) VALUES
(1, 'Венера'),
(2, 'Меркурий');

-- --------------------------------------------------------

--
-- Структура таблицы `сеанс`
--

CREATE TABLE `сеанс` (
  `Id` int NOT NULL,
  `Id зала` int NOT NULL,
  `id фильма` int NOT NULL,
  `Дата и время начала` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `сеанс`
--

INSERT INTO `сеанс` (`Id`, `Id зала`, `id фильма`, `Дата и время начала`) VALUES
(1, 1, 1, '10.03.2023 в 10:00'),
(2, 1, 4, '10.03.2023 в 12:00'),
(3, 1, 2, '10.03.2023 в 14:00'),
(4, 1, 1, '10.03.2023 в 16:30'),
(5, 1, 4, '10.03.2023 в 18:30'),
(6, 1, 2, '10.03.2023 в 20:30'),
(7, 2, 3, '10.03.2023 в 10:00'),
(8, 2, 7, '10.03.2023 в 12:00'),
(9, 2, 5, '10.03.2023 в 14:00'),
(10, 2, 7, '10.03.2023 в 16:30'),
(11, 2, 5, '10.03.2023 в 18:30'),
(12, 2, 6, '10.03.2023 в 20:30');

-- --------------------------------------------------------

--
-- Структура таблицы `фильм`
--

CREATE TABLE `фильм` (
  `Id` int NOT NULL,
  `Наименование` text NOT NULL,
  `Продолжительность` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `фильм`
--

INSERT INTO `фильм` (`Id`, `Наименование`, `Продолжительность`) VALUES
(1, 'Чебурашка', '1 час 53 минуты'),
(2, 'Человек-муравей и Оса: Квантомания', '2 часа 5 минут'),
(3, 'Бешенство', '1 час 40 минут'),
(4, 'Марлоу', '1 час 49 минут'),
(5, 'Нюрнберг', '2 часа 11 минут'),
(6, 'Винни-Пух. Кровь и мёд', '1 час 24 минуты'),
(7, 'Кот в сапогах: Последнее желание', '1 час 42 минуты');

-- --------------------------------------------------------

--
-- Структура таблицы `цена`
--

CREATE TABLE `цена` (
  `Id` int NOT NULL,
  `id сеанса` int NOT NULL,
  `Ценовая категория` text NOT NULL,
  `Цена` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `цена`
--

INSERT INTO `цена` (`Id`, `id сеанса`, `Ценовая категория`, `Цена`) VALUES
(1, 1, 'Хороший выбор', '300 рублей'),
(2, 2, 'Неплохой выбор', '250 рублей'),
(3, 3, 'Неплохой выбор', '250 рублей'),
(4, 4, 'Хороший выбор', '300 рублей'),
(5, 5, 'Неплохой выбор', '250 рублей'),
(6, 6, 'Неплохой выбор', '250 рублей'),
(7, 7, 'Неплохой выбор', '250 рублей'),
(8, 8, 'Хороший выбор', '300 рублей'),
(9, 9, 'Неплохой выбор', '250 рублей'),
(10, 10, 'Хороший выбор', '300 рублей'),
(11, 11, 'Неплохой выбор', '250 рублей'),
(12, 12, 'Отличный выбор', '200 рублей');

--
-- Индексы сохранённых таблиц
--

--
-- Индексы таблицы `место`
--
ALTER TABLE `место`
  ADD PRIMARY KEY (`Id`),
  ADD KEY `Id зала` (`Id зала`);

--
-- Индексы таблицы `билет`
--
ALTER TABLE `билет`
  ADD PRIMARY KEY (`Id`),
  ADD KEY `id места` (`id места`),
  ADD KEY `id сеанса` (`id сеанса`);

--
-- Индексы таблицы `зал`
--
ALTER TABLE `зал`
  ADD PRIMARY KEY (`Id`);

--
-- Индексы таблицы `сеанс`
--
ALTER TABLE `сеанс`
  ADD PRIMARY KEY (`Id`),
  ADD KEY `Id зала` (`Id зала`),
  ADD KEY `id фильма` (`id фильма`);

--
-- Индексы таблицы `фильм`
--
ALTER TABLE `фильм`
  ADD PRIMARY KEY (`Id`);

--
-- Индексы таблицы `цена`
--
ALTER TABLE `цена`
  ADD PRIMARY KEY (`Id`),
  ADD KEY `id сеанса` (`id сеанса`);

--
-- AUTO_INCREMENT для сохранённых таблиц
--

--
-- AUTO_INCREMENT для таблицы `место`
--
ALTER TABLE `место`
  MODIFY `Id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=49;

--
-- AUTO_INCREMENT для таблицы `билет`
--
ALTER TABLE `билет`
  MODIFY `Id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=21;

--
-- AUTO_INCREMENT для таблицы `зал`
--
ALTER TABLE `зал`
  MODIFY `Id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- AUTO_INCREMENT для таблицы `сеанс`
--
ALTER TABLE `сеанс`
  MODIFY `Id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=13;

--
-- AUTO_INCREMENT для таблицы `фильм`
--
ALTER TABLE `фильм`
  MODIFY `Id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;

--
-- AUTO_INCREMENT для таблицы `цена`
--
ALTER TABLE `цена`
  MODIFY `Id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=13;

--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `место`
--
ALTER TABLE `место`
  ADD CONSTRAINT `место_ibfk_1` FOREIGN KEY (`Id зала`) REFERENCES `зал` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT;

--
-- Ограничения внешнего ключа таблицы `билет`
--
ALTER TABLE `билет`
  ADD CONSTRAINT `билет_ibfk_1` FOREIGN KEY (`id места`) REFERENCES `место` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  ADD CONSTRAINT `билет_ibfk_2` FOREIGN KEY (`id сеанса`) REFERENCES `сеанс` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT;

--
-- Ограничения внешнего ключа таблицы `сеанс`
--
ALTER TABLE `сеанс`
  ADD CONSTRAINT `сеанс_ibfk_1` FOREIGN KEY (`Id зала`) REFERENCES `зал` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  ADD CONSTRAINT `сеанс_ibfk_2` FOREIGN KEY (`id фильма`) REFERENCES `фильм` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT;

--
-- Ограничения внешнего ключа таблицы `цена`
--
ALTER TABLE `цена`
  ADD CONSTRAINT `цена_ibfk_1` FOREIGN KEY (`id сеанса`) REFERENCES `сеанс` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
