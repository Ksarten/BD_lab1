-- phpMyAdmin SQL Dump
-- version 5.1.1
-- https://www.phpmyadmin.net/
--
-- Хост: 127.0.0.1:3306
-- Время создания: Май 31 2023 г., 11:23
-- Версия сервера: 8.0.24
-- Версия PHP: 7.1.33

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- База данных: `кинотеатры`
--

-- --------------------------------------------------------

--
-- Структура таблицы `место`
--

CREATE TABLE `место` (
  `Id` int NOT NULL,
  `Id_зала` int NOT NULL,
  `Ряд` int NOT NULL,
  `Номер` int NOT NULL,
  `Ценовая_категория` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `место`
--

INSERT INTO `место` (`Id`, `Id_зала`, `Ряд`, `Номер`, `Ценовая_категория`) VALUES
(1, 1, 1, 1, 'Лучшая'),
(2, 1, 1, 2, 'Лучшая'),
(3, 1, 1, 3, 'Лучшая'),
(4, 1, 1, 4, 'Лучшая'),
(5, 1, 1, 5, 'Лучшая'),
(6, 1, 1, 6, 'Лучшая'),
(7, 1, 2, 1, 'Стандартная'),
(8, 1, 2, 2, 'Стандартная'),
(9, 1, 2, 3, 'Стандартная'),
(10, 1, 2, 4, 'Стандартная'),
(11, 1, 2, 5, 'Стандартная'),
(12, 1, 2, 6, 'Стандартная'),
(13, 1, 3, 1, 'Стандартная'),
(14, 1, 3, 2, 'Стандартная'),
(15, 1, 3, 3, 'Стандартная'),
(16, 1, 3, 4, 'Стандартная'),
(17, 1, 3, 5, 'Стандартная'),
(18, 1, 3, 6, 'Стандартная'),
(19, 1, 4, 1, 'Эксклюзивная'),
(20, 1, 4, 2, 'Эксклюзивная'),
(21, 1, 4, 3, 'Эксклюзивная'),
(22, 1, 4, 4, 'Эксклюзивная'),
(23, 1, 4, 5, 'Эксклюзивная'),
(24, 1, 4, 6, 'Эксклюзивная'),
(25, 2, 1, 1, 'Лучшая'),
(26, 2, 1, 2, 'Лучшая'),
(27, 2, 1, 3, 'Лучшая'),
(28, 2, 1, 4, 'Лучшая'),
(29, 2, 1, 5, 'Лучшая'),
(30, 2, 1, 6, 'Лучшая'),
(31, 2, 2, 1, 'Стандартная'),
(32, 2, 2, 2, 'Стандартная'),
(33, 2, 2, 3, 'Стандартная'),
(34, 2, 2, 4, 'Стандартная'),
(35, 2, 2, 5, 'Стандартная'),
(36, 2, 2, 6, 'Стандартная'),
(37, 2, 3, 1, 'Стандартная'),
(38, 2, 3, 2, 'Стандартная'),
(39, 2, 3, 3, 'Стандартная'),
(40, 2, 3, 4, 'Стандартная'),
(41, 2, 3, 5, 'Стандартная'),
(42, 2, 3, 6, 'Стандартная'),
(43, 2, 4, 1, 'Эксклюзивная'),
(44, 2, 4, 2, 'Эксклюзивная'),
(45, 2, 4, 3, 'Эксклюзивная'),
(46, 2, 4, 4, 'Эксклюзивная'),
(47, 2, 4, 5, 'Эксклюзивная'),
(48, 2, 4, 6, 'Эксклюзивная');

-- --------------------------------------------------------

--
-- Структура таблицы `билет`
--

CREATE TABLE `билет` (
  `Id` int NOT NULL,
  `id_сеанса` int NOT NULL,
  `id_места` int NOT NULL,
  `ФИО` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `билет`
--

INSERT INTO `билет` (`Id`, `id_сеанса`, `id_места`, `ФИО`) VALUES
(1, 1, 3, 'Петров Дмитрий Сергеевич'),
(2, 1, 4, 'Петрова Людмила Сергеевна'),
(3, 1, 7, 'Капушкина Любовь Викторовна'),
(4, 1, 9, 'Забегайло Сергей Александрович'),
(5, 2, 10, 'Сергеев Виталий Константинович'),
(6, 2, 14, 'Гончаров Владимир Игоревич'),
(7, 2, 21, 'Косталыпин Константин Александрович'),
(8, 4, 4, 'Иванова Любовь Константиновна'),
(9, 4, 5, 'Коклюшкин Виктор Михайлович'),
(10, 4, 9, 'Заяц Сергей Сергеевич'),
(11, 4, 14, 'Пятипалова Лидия Игоревна'),
(12, 10, 31, 'Сергеев Дмитрий Михайлович'),
(13, 10, 32, 'Львов Павел Алексеевич'),
(14, 10, 33, 'Палий Роман Святославович'),
(15, 10, 34, 'Измайлова Анна Александровна'),
(16, 10, 35, 'Костина Дарья Олеговна'),
(17, 12, 43, 'Искаков Дмитрий Дмитриевич'),
(18, 12, 44, 'Жердева Анастасия Александровна'),
(19, 12, 46, 'Великая Екатерина Николаевна'),
(20, 12, 47, 'Игорев Сергей Игоревич');

-- --------------------------------------------------------

--
-- Структура таблицы `зал`
--

CREATE TABLE `зал` (
  `Id` int NOT NULL,
  `Наименование` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `зал`
--

INSERT INTO `зал` (`Id`, `Наименование`) VALUES
(1, 'Венера'),
(2, 'Меркурий');

-- --------------------------------------------------------

--
-- Структура таблицы `сеанс`
--

CREATE TABLE `сеанс` (
  `Id` int NOT NULL,
  `Id_зала` int NOT NULL,
  `id_фильма` int NOT NULL,
  `Дата_и_время_начала` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `сеанс`
--

INSERT INTO `сеанс` (`Id`, `Id_зала`, `id_фильма`, `Дата_и_время_начала`) VALUES
(1, 1, 1, '2023-03-10 10:00:00'),
(2, 1, 4, '2023-03-10 12:00:00'),
(3, 1, 2, '2023-03-10 14:00:00'),
(4, 1, 1, '2023-03-10 16:30:00'),
(5, 1, 4, '2023-03-10 18:30:00'),
(6, 1, 2, '2023-03-10 20:30:00'),
(7, 2, 3, '2023-03-10 10:00:00'),
(8, 2, 7, '2023-03-10 12:00:00'),
(9, 2, 5, '2023-03-10 14:00:00'),
(10, 2, 7, '2023-03-10 16:30:00'),
(11, 2, 5, '2023-03-10 18:30:00'),
(12, 2, 6, '2023-03-10 20:30:00');

-- --------------------------------------------------------

--
-- Структура таблицы `фильм`
--

CREATE TABLE `фильм` (
  `Id` int NOT NULL,
  `Наименование` text NOT NULL,
  `Продолжительность` time NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `фильм`
--

INSERT INTO `фильм` (`Id`, `Наименование`, `Продолжительность`) VALUES
(1, 'Чебурашка', '01:53:00'),
(2, 'Человек-муравей и Оса: Квантомания', '02:05:00'),
(3, 'Бешенство', '01:40:00'),
(4, 'Марлоу', '01:49:00'),
(5, 'Нюрнберг', '02:11:00'),
(6, 'Винни-Пух. Кровь и мёд', '01:24:00'),
(7, 'Кот в сапогах: Последнее желание', '01:42:00');

-- --------------------------------------------------------

--
-- Структура таблицы `цена`
--

CREATE TABLE `цена` (
  `Id` int NOT NULL,
  `id_сеанса` int NOT NULL,
  `Ценовая_категория` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `Цена` int NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `цена`
--

INSERT INTO `цена` (`Id`, `id_сеанса`, `Ценовая_категория`, `Цена`) VALUES
(1, 1, 'Хороший выбор', 300),
(2, 2, 'Неплохой выбор', 250),
(3, 3, 'Неплохой выбор', 250),
(4, 4, 'Хороший выбор', 300),
(5, 5, 'Неплохой выбор', 250),
(6, 6, 'Неплохой выбор', 250),
(7, 7, 'Неплохой выбор', 250),
(8, 8, 'Хороший выбор', 300),
(9, 9, 'Неплохой выбор', 250),
(10, 10, 'Хороший выбор', 300),
(11, 11, 'Неплохой выбор', 250),
(12, 12, 'Отличный выбор', 200);

--
-- Индексы сохранённых таблиц
--

--
-- Индексы таблицы `место`
--
ALTER TABLE `место`
  ADD PRIMARY KEY (`Id`),
  ADD KEY `Id зала` (`Id_зала`);

--
-- Индексы таблицы `билет`
--
ALTER TABLE `билет`
  ADD PRIMARY KEY (`Id`),
  ADD KEY `id места` (`id_места`),
  ADD KEY `id сеанса` (`id_сеанса`);

--
-- Индексы таблицы `зал`
--
ALTER TABLE `зал`
  ADD PRIMARY KEY (`Id`);

--
-- Индексы таблицы `сеанс`
--
ALTER TABLE `сеанс`
  ADD PRIMARY KEY (`Id`),
  ADD KEY `Id зала` (`Id_зала`),
  ADD KEY `id фильма` (`id_фильма`);

--
-- Индексы таблицы `фильм`
--
ALTER TABLE `фильм`
  ADD PRIMARY KEY (`Id`);

--
-- Индексы таблицы `цена`
--
ALTER TABLE `цена`
  ADD PRIMARY KEY (`Id`),
  ADD KEY `id сеанса` (`id_сеанса`);

--
-- AUTO_INCREMENT для сохранённых таблиц
--

--
-- AUTO_INCREMENT для таблицы `место`
--
ALTER TABLE `место`
  MODIFY `Id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=49;

--
-- AUTO_INCREMENT для таблицы `билет`
--
ALTER TABLE `билет`
  MODIFY `Id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=21;

--
-- AUTO_INCREMENT для таблицы `зал`
--
ALTER TABLE `зал`
  MODIFY `Id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- AUTO_INCREMENT для таблицы `сеанс`
--
ALTER TABLE `сеанс`
  MODIFY `Id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=13;

--
-- AUTO_INCREMENT для таблицы `фильм`
--
ALTER TABLE `фильм`
  MODIFY `Id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;

--
-- AUTO_INCREMENT для таблицы `цена`
--
ALTER TABLE `цена`
  MODIFY `Id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=13;

--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `место`
--
ALTER TABLE `место`
  ADD CONSTRAINT `место_ibfk_1` FOREIGN KEY (`Id_зала`) REFERENCES `зал` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT;

--
-- Ограничения внешнего ключа таблицы `билет`
--
ALTER TABLE `билет`
  ADD CONSTRAINT `билет_ibfk_1` FOREIGN KEY (`id_места`) REFERENCES `место` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  ADD CONSTRAINT `билет_ibfk_2` FOREIGN KEY (`id_сеанса`) REFERENCES `сеанс` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT;

--
-- Ограничения внешнего ключа таблицы `сеанс`
--
ALTER TABLE `сеанс`
  ADD CONSTRAINT `сеанс_ibfk_1` FOREIGN KEY (`Id_зала`) REFERENCES `зал` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  ADD CONSTRAINT `сеанс_ibfk_2` FOREIGN KEY (`id_фильма`) REFERENCES `фильм` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT;

--
-- Ограничения внешнего ключа таблицы `цена`
--
ALTER TABLE `цена`
  ADD CONSTRAINT `цена_ibfk_1` FOREIGN KEY (`id_сеанса`) REFERENCES `сеанс` (`Id`) ON DELETE RESTRICT ON UPDATE RESTRICT;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
